<li class="nav-item @ItemCssClass" @onclick="ToggelExpand">
    <div role="button" class="px-4 py-3">
        @if (Icon != null) {
            @Icon
        }
        <span>@Text</span>
        @if (SubItems != null) {
            <svg class="bi bi-chevron-down ml-auto" width=".75em" height=".75em" viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                <path fill-rule="evenodd" d="M1.646 4.646a.5.5 0 01.708 0L8 10.293l5.646-5.647a.5.5 0 01.708.708l-6 6a.5.5 0 01-.708 0l-6-6a.5.5 0 010-.708z" clip-rule="evenodd"/>
            </svg>
        }
    </div>
    <ul class="nav flex-column">    
        @if (SubItems != null) {
            @SubItems
        }
    </ul>
</li>

@code {
    [Parameter]
    public RenderFragment Icon { get; set; }
    [Parameter]
    public RenderFragment SubItems { get; set; }

    [Parameter]
    public string Text { get; set; }

    private bool IsExpanded { get; set; }

    private void ToggelExpand()
    {
        IsExpanded = !IsExpanded;
    }
    private string ItemCssClass => IsExpanded ? "expanded" : null;
}